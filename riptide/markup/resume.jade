extends templates/base.jade

mixin ilink(icon, url)
  - var title = url.replace(/https?:\/\//, '')
  a(target='blank' rel='noopener noreferrer' href=url)
    #[i.icon(class='icon-' + icon)] #{title}

mixin email(email)
  a(href='mailto:' + email): #[i.icon.icon-mail] #{email}

mixin ispan(icon, content)
  span #[i.icon(class='icon-' + icon)] #{content}

block prepend body
  body.vita: main
    header
      - var n = vita.personal.name.split(' ')
      h1 #[span= n[0]] #{n[1]}
      p #{vita.personal.title}

    section.info
      div
        h1 Web
        ul
          li: +ilink('link', vita.info.homepage)
          li: +ilink('github', vita.info.github)
          li: +ilink('lock', vita.info.keybase)
      div
        h1 Info
        ul
          li: +email(vita.info.email)
          li: +ispan('location', vita.info.location)

    section.cover
      h1 Summary
      p=vita.cover

    section
      h1 Experience
      ul: each xp in vita.experience
        li
          aside
            h2.company= xp.company
            p.location= xp.location
            p.dates= xp.dates
            p.position= xp.position
            ul.tags: each tag in xp.tags
              li= tag
          div.description !{xp.description}

    section
      h1 Education
      ul: each edu in vita.education
        li
          aside
            h2.institute= edu.institute
            p.location= edu.location
            p.dates= edu.dates
            p.position= edu.position
          div.description
            h3.degree= edu.degree
            dl
              div
                dt Major
                dd= edu.major
              div
                dt Minors
                dd: ul: each minor in edu.minor
                  li= minor

    section.skills
      h1 Skills
      ul: each skset, kind in vita.skills
        li
          h2= kind
          ul: each sk in skset
            li #{sk[0]} #[i= '‚óè'.repeat(sk[1])]
